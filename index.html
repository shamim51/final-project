<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amar Dhaka</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    crossorigin=""/>

        <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    crossorigin=""></script>

    <style>
        #map { height: 100vh; }
    </style>
    <link rel="stylesheet" href="Theme_dark.css">

    <script src="area/statesUs.js"></script>
    <script src="area/dhanMondi.js"></script>
    <script src="area/kalabagan.js"></script>
    <script src="area/purbachal.js"></script>
    <script src="area/uttaraSector3.js"></script>
    <script src="area/bashundhara.js"></script>
    <script src="area/lalmatia.js"></script>
    <script src="area/shyamoli.js"></script>
    <script src="area/jigatola.js"></script>
    <script src="area/sherEbanglaNagar.js"></script>
    <script src="area/monipuripara.js"></script>
    <script src="area/tejgaon.js"></script>
    <script src="area/motijheel.js"></script>
    <script src="area/dhakaCityCorporation.js"></script>
    <script src="area/uttara.js"></script>
    <script src="area/crime.js"></script>
    <script src="cityCorporationCoordinates.js"></script>
    
</head>
<body>
    <div id="map"></div>
    <button onclick="myFunction()">Click me</button>


</body>
<script>
    var map = L.map('map').setView([23.788212, 90.399971], 11);

    /*L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);
    */

    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19}).addTo(map);


    //navigator.geolocation.watchPosition(success, error);

    var marker = L.marker([51.5, -0.09]).addTo(map);


    /*
    let lat, lng;
    lat = 23.790685;
    console.log(lat);
        
    lng = 450.406666;
    console.log(lng);
    //const accuracy = pos.coords.accuracy;

        
    L.marker([lat, lng]).addTo(map);
    */
    //ircle = L.circle([lat, lng], {radius : accuracy});

    //map.fitBounds(circle.getBounds())

    /*function success(pos){
        let lat, lng;
        lat = pos.coords.latitude;
        console.log(lat);
        
        lng = pos.coords.longitude;
        console.log(lng);
        const accuracy = pos.coords.accuracy;

        if(marker){
            map.removeLayer(marker);
            map.removeLayer(circle);
        }
        marker = L.marker([lat, lng]).addTo(map);
        circle = L.circle([lat, lng], {radius : accuracy});

        map.fitBounds(circle.getBounds())
    }*/

    function error(err){
        if(err.code === 1){
            alert("please allow location access");
        }
        else{
            alert("can't get final location");
        }


    }

    

    //marker = L.marker([23.815201, 90.425581], {icon: greenIcon}).addTo(map);

    function style(feature) {
        return {
            fillColor: 'green',
            weight: 3,
            opacity: 100,
            color: 'black',
            dashArray: '3',
            fillOpacity: 0.1
        };
    }
    
    L.geoJSON(statesData, {style:style}).addTo(map);
    //L.geoJSON(uttaraSector3, {style:style}).addTo(map);
    L.geoJSON(dhanmondi,{style:style}).addTo(map);
    L.geoJSON(bashundhara, {style:style}).addTo(map);
    L.geoJSON(kalabagan, {style:style}).addTo(map);
    //L.geoJSON(purbachal, {style:style}).addTo(map);
    L.geoJSON(lalmatia, {style:style}).addTo(map);
    L.geoJSON(shyamoli, {style:style}).addTo(map);
    L.geoJSON(jigatola, {style:style}).addTo(map);
    L.geoJSON(sherEbanglaNagar, {style:style}).addTo(map);
    L.geoJSON(monipuripara, {style:style}).addTo(map);
    L.geoJSON(motijheel, {style:style}).addTo(map);
    L.geoJSON(uttara, {style:style}).addTo(map);
    //L.geoJSON(tejgaon).addTo(map);
    L.geoJSON(dhakaCityCorporation, {style:style}).addTo(map);
    L.geoJSON(crime).addTo(map);

    var india = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          84.84627836943275,
          25.03258322413761
        ],
        "type": "Point"
      }
    }
  ]
}

    var mayanmar = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          96.57727165677954,
          20.80831185314335
        ],
        "type": "Point"
      }
    }
  ]
}
    
    L.geoJSON(mayanmar).addTo(map);
    L.geoJSON(india).addTo(map);





    var CyclOSM = L.tileLayer('https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png', {
	maxZoom: 20,
	attribution: '<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    var OpenStreetMap_France = L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
	maxZoom: 20,
	attribution: '&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });

    var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    });
        

    /*var map = L.map('map', {
        center: [39.73, -104.99],
        zoom: 10,
        layers: [osm, cities]
    });*/

    var baseMaps = {
    "OpenStreetMap": osm,
    "CycleOsm":CyclOSM,
    "France_style":OpenStreetMap_France,
    "satelite": Esri_WorldImagery
    
    };

    // var overlayMaps = {
    //     "Cities": marker
    // };

    var layerControl = L.control.layers(baseMaps).addTo(map);


    let arr = [
                [
                    89.340577078992,
                    22.349070006811274
                ],
                [
                    90.25729818013554,
                    22.27283695767278
                ],
                [
                    92.13194133079071,
                    24.831378914654636
                ],
                [
                    88.36205455529768,
                    26.520826205514453
                ]
            ]; 

    var rangpur = {
        "type": "FeatureCollection",
        "features": [
            {
            "type": "Feature",
            "properties": {},
            "geometry": {
                "coordinates": [
                arr[2][0],
                arr[2][1]
                ],
                "type": "Point"
            }
            }
        ]
    }

    L.geoJSON(rangpur).addTo(map);
            
        

            // L.marker(arr[0]).addTo(map);


            // L.marker(arr[10]).addTo(map);
            // L.marker(arr[3]).addTo(map);
            // L.marker(arr[8]).addTo(map);
            // L.marker(arr[7]).addTo(map);
            // L.marker(arr[6]).addTo(map);
            // L.marker(arr[4]).addTo(map);
            // L.marker(arr[9]).addTo(map);
            // L.marker(arr[11]).addTo(map);
            // L.marker(arr[1]).addTo(map);

            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            function myFunction() {
                for (var i = 0; i < 3000; i++) {
                    var rangpur = {
                    "type": "FeatureCollection",
                    "features": [
                        {
                        "type": "Feature",
                        "properties": {},
                        "geometry": {
                            "coordinates": [
                            values[i][0],
                            values[i][1]
                            ],
                            "type": "Point"
                        }
                        }
                    ]
                    }

                    
                    L.geoJSON(rangpur).addTo(map);;
                }
                
            }
            
            
            
            //L.marker(arr(0)).addTo(map);

</script>

</html>