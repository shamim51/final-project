<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amar Dhaka</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
    crossorigin=""/>

        <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    crossorigin=""></script>

    <style>
        #map { height: 900px; }
    </style>

</head>
<body>
    <div id="map"></div>

</body>
<script>
    var map = L.map('map').setView([23.7946708, 90.2683664], 13);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png',
    {maxZoom: 19, attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);

    navigator.geolocation.watchPosition(success, error);

    let marker, circle;

    function success(pos){
        const lat = pos.coords.latitude;
        console.log(lat);
        
        const lng = pos.coords.longitude;
        console.log(lng);
        const accuracy = pos.coords.accuracy;

        if(marker){
            map.removeLayer(marker);
            map.removeLayer(circle);
        }
        marker = L.marker([lat, lng]).addTo(map);
        circle = L.circle([lat, lng], {radius : accuracy});

        map.fitBounds(circle.getBounds())
    }

    function error(err){
        if(err.code === 1){
            alert("please allow location access");
        }
        else{
            alert("can't get final location");
        }


    }

    var greenIcon = L.icon({
    iconUrl: 'leaf-green.png',
    shadowUrl: 'leaf-shadow.png',

    iconSize:     [38, 95], // size of the icon
    shadowSize:   [50, 64], // size of the shadow
    iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
    shadowAnchor: [4, 62],  // the same for the shadow
    popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
    });

    L.marker([23.79, 90.26], {icon: greenIcon}).addTo(map);
    
    var dhanmondi = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              90.37618839437789,
              23.738389339435315
            ],
            [
              90.37681454613443,
              23.737123287504346
            ],
            [
              90.37723919142024,
              23.7356331813166
            ],
            [
              90.3770976429916,
              23.73647541734313
            ],
            [
              90.38038864395293,
              23.73728525454132
            ],
            [
              90.38067174081016,
              23.73553599988651
            ],
            [
              90.38406890309267,
              23.73615148105388
            ],
            [
              90.38392735466402,
              23.73725286115028
            ],
            [
              90.3836442578068,
              23.738613376650704
            ],
            [
              90.3826053829003,
              23.742386906933476
            ],
            [
              90.38195180073575,
              23.74477994986428
            ],
            [
              90.3808228860886,
              23.746737861378307
            ],
            [
              90.37823826571082,
              23.75130620710766
            ],
            [
              90.37645576889906,
              23.754542021694746
            ],
            [
              90.37535656253255,
              23.756418213484437
            ],
            [
              90.37455443896641,
              23.755983156927215
            ],
            [
              90.37143506954624,
              23.753971001435133
            ],
            [
              90.3689098657295,
              23.752393884849326
            ],
            [
              90.36763240968088,
              23.751741279295118
            ],
            [
              90.36849394980567,
              23.750381673884064
            ],
            [
              90.37060323770083,
              23.747472070608183
            ],
            [
              90.37226690139164,
              23.744915916893063
            ],
            [
              90.37315814979695,
              23.743311496914643
            ],
            [
              90.37398998164349,
              23.74222374331481
            ],
            [
              90.37437618928556,
              23.741652669038928
            ],
            [
              90.37511889629064,
              23.7401569864509
            ],
            [
              90.37568335361476,
              23.739177984913155
            ],
            [
              90.37618839437789,
              23.738389339435315
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}
    var uttaraSector3 = {
    "type": "FeatureCollection",
    "features": [
        {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "coordinates": [
            [
            [
              90.38397008768368,
              23.874082554430345
            ],
            [
              90.3840317610127,
              23.869331075213097
            ],
            [
              90.39097001040591,
              23.86948617086071
            ],
            [
              90.39080040875558,
              23.87419534711853
            ],
            [
              90.38397008768368,
              23.874082554430345
            ]
            ]
            ],
            "type": "Polygon"
        }
        }
    ]
    }

  var bashundhara = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              90.42821455543452,
              23.807846679997724
            ],
            [
              90.42954172175854,
              23.808516682486697
            ],
            [
              90.43089103637612,
              23.809003979270642
            ],
            [
              90.43206280959629,
              23.809003979270642
            ],
            [
              90.43277297518347,
              23.809003979270642
            ],
            [
              90.43270195862391,
              23.809361329083274
            ],
            [
              90.43291500830122,
              23.81010851187692
            ],
            [
              90.43476143882873,
              23.810140997987517
            ],
            [
              90.4349389802262,
              23.810725746593704
            ],
            [
              90.43607524516653,
              23.810758232550526
            ],
            [
              90.43838328332697,
              23.81092066221079
            ],
            [
              90.43834777504725,
              23.81043337261984
            ],
            [
              90.43852529827444,
              23.809133936657275
            ],
            [
              90.43831224859855,
              23.80854918088258
            ],
            [
              90.43856080655416,
              23.807477121789546
            ],
            [
              90.43937749697938,
              23.80676241081126
            ],
            [
              90.43966156321477,
              23.805982721620907
            ],
            [
              90.43852529827444,
              23.805300489739892
            ],
            [
              90.4378861492454,
              23.803611138229087
            ],
            [
              90.43870283967192,
              23.802474062340508
            ],
            [
              90.44015867912611,
              23.80120702319614
            ],
            [
              90.44079780180437,
              23.799420214167
            ],
            [
              90.44541387812535,
              23.79990754508026
            ],
            [
              90.45176986013581,
              23.80068727073973
            ],
            [
              90.46099004997183,
              23.801696431528256
            ],
            [
              90.46939471006198,
              23.802492875203967
            ],
            [
              90.47017514278514,
              23.802767509821635
            ],
            [
              90.46954479327843,
              23.8035914101917
            ],
            [
              90.46861427734018,
              23.805486361207315
            ],
            [
              90.46819404433575,
              23.807518596789194
            ],
            [
              90.46813401104873,
              23.808781862337568
            ],
            [
              90.46822406097806,
              23.81111612503689
            ],
            [
              90.48350254830848,
              23.81248920955541
            ],
            [
              90.4840128312423,
              23.814384030730267
            ],
            [
              90.48251199908316,
              23.815592308052132
            ],
            [
              90.48176158300367,
              23.817844067597534
            ],
            [
              90.4789100019018,
              23.818585492070568
            ],
            [
              90.47817709088571,
              23.818817106546675
            ],
            [
              90.4764361255809,
              23.819064246655856
            ],
            [
              90.47532550978383,
              23.819229006466514
            ],
            [
              90.47451506041733,
              23.819311386293364
            ],
            [
              90.47346447790619,
              23.819531065576783
            ],
            [
              90.47190361246129,
              23.81955852546136
            ],
            [
              90.47082301330659,
              23.819585985339046
            ],
            [
              90.46971239750843,
              23.819778204326468
            ],
            [
              90.46941223107683,
              23.821343405475645
            ],
            [
              90.4691420812888,
              23.822606536498242
            ],
            [
              90.46836164856575,
              23.823073342677546
            ],
            [
              90.46641056675861,
              23.823155720064136
            ],
            [
              90.4662004502564,
              23.82450120997858
            ],
            [
              90.4660163550081,
              23.82612010071942
            ],
            [
              90.46611465992328,
              23.826991517930054
            ],
            [
              90.46599459485856,
              23.827787807503626
            ],
            [
              90.46656491107814,
              23.829133249383787
            ],
            [
              90.46704517789908,
              23.83086308297605
            ],
            [
              90.46713522782841,
              23.831796634244384
            ],
            [
              90.4670751945414,
              23.832894921251764
            ],
            [
              90.46668497818047,
              23.833498975141893
            ],
            [
              90.46650487832176,
              23.83435013721156
            ],
            [
              90.46391594150612,
              23.833551292666613
            ],
            [
              90.46235246171642,
              23.83324282830675
            ],
            [
              90.4610802183584,
              23.832934363213226
            ],
            [
              90.45661970248858,
              23.831784623219875
            ],
            [
              90.4523891101179,
              23.83067693724712
            ],
            [
              90.44895558587552,
              23.82990575788311
            ],
            [
              90.44532269117053,
              23.82917664278169
            ],
            [
              90.44251762449079,
              23.828615779031225
            ],
            [
              90.43822571918656,
              23.827802522285253
            ],
            [
              90.42953461094606,
              23.82599370883132
            ],
            [
              90.42910542041574,
              23.825530985059686
            ],
            [
              90.42913607688251,
              23.82492803948685
            ],
            [
              90.42924337451456,
              23.82380627282825
            ],
            [
              90.42935067214773,
              23.82281069679493
            ],
            [
              90.42944263147803,
              23.821941308554372
            ],
            [
              90.4293353338449,
              23.82156270467766
            ],
            [
              90.4282470292863,
              23.821254211812587
            ],
            [
              90.42723536589295,
              23.82111398754023
            ],
            [
              90.4269288012286,
              23.820777448670043
            ],
            [
              90.42588648136848,
              23.81968369131279
            ],
            [
              90.42600910723445,
              23.818800265179334
            ],
            [
              90.42545729083821,
              23.81826740206435
            ],
            [
              90.42545729083821,
              23.817874764685413
            ],
            [
              90.42501277207509,
              23.817257760689927
            ],
            [
              90.42470620741068,
              23.81661270792314
            ],
            [
              90.42487481797514,
              23.816079835827622
            ],
            [
              90.4251813527174,
              23.81418671184055
            ],
            [
              90.42548791738176,
              23.81278438595072
            ],
            [
              90.42663175897968,
              23.81276016535034
            ],
            [
              90.42660992730333,
              23.812280809111186
            ],
            [
              90.42657717979137,
              23.8117914644576
            ],
            [
              90.42583490283175,
              23.811731544577526
            ],
            [
              90.42583490283175,
              23.811112370863015
            ],
            [
              90.4262497046617,
              23.809095042472094
            ],
            [
              90.42634794720095,
              23.808286104957546
            ],
            [
              90.42747227847502,
              23.808076379594524
            ],
            [
              90.42821455543452,
              23.807846679997724
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}
    L.geoJSON(uttaraSector3).addTo(map);
    L.geoJSON(dhanmondi).addTo(map);
    L.geoJSON(bashundhara).addTo(map);
</script>

</html>